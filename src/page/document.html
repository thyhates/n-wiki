<div class="document-container" style="border: 1px solid #ddd;" ng-controller="MainController as vm">
    <div class="title">
        <h2>{{vm.documentInfo.label}}
            <a ng-if="vm.documentInfo.type==0" ng-href="{{vm.docId}}/{{vm.apiId}}/errCode" class="btn btn-default btn-sm pull-right"
               style="margin-left: 10px;">错误码</a>
            <a ng-href="{{vm.docId}}/{{vm.apiId}}/newApi" ng-if="isLogin" class="btn btn-default btn-sm pull-right">添加接口
            </a>
        </h2>
        <span>{{ vm.documentInfo.description}}</span>
    </div>
    <div ui-view="editContent">
        <div ng-if="vm.api" class="apiBody">
            <h3>{{vm.api.name}}
                <span class="pull-right" style="font-size:14px;">最后编辑：{{vm.api.update}},时间：{{vm.api.lastTime|date:'yyyy-MM-dd HH:mm:ss'}}</span>
                <span class="pull-right" style="margin-right: 15px;font-size:14px;">创建人：{{vm.api.createUser}}</span>
            </h3>
            <div style="display: block;clear: both;margin-top: 10px;">
                <a ng-if="isLogin" style="cursor: pointer;margin-left: 10px;" ng-click="vm.delApi()"
                  class="btn btn-default pull-right">删除</a>
                <a ng-if="isLogin" style="cursor: pointer;" ng-href="{{vm.docId}}/{{vm.apiId}}/edit"
                   class="btn btn-default pull-right">编辑</a>
            </div>
            <p>
                请求路径:&nbsp;&nbsp;{{vm.api.api}}
            </p>
            <p>
                请求模式:&nbsp;&nbsp;{{vm.api.method}}
            </p>
            <p>请求头(header):</p>
            <table class="table table-bordered">
                <thead>
                <th style="width:20%;word-wrap: break-word;">参数名称</th>
                <th style="width:20%;word-wrap: break-word;">类型</th>
                <th style="width:20%">必填</th>
                <th style="width:40%;word-wrap: break-word;">说明</th>
                </thead>
                <tbody>
                <tr ng-repeat="param in vm.api.params" ng-if="vm.api.params">
                    <td>{{param.apiName}}</td>
                    <td>{{param.type}}</td>
                    <td>{{param.require}}</td>
                    <td>{{param.apiValue}}</td>
                </tr>
                </tbody>
            </table>
            <p>请求参数(urlParam):</p>
            <table class="table table-bordered">
                <thead>
                <th style="width:20%;word-wrap: break-word;">参数名称</th>
                <th style="width:20%;word-wrap: break-word;">类型</th>
                <th style="width:20%">必填</th>
                <th style="width:40%;word-wrap: break-word;">说明</th>
                </thead>
                <tbody>
                <tr ng-repeat="res in vm.api.res" ng-if="vm.api.res">
                    <td>
                        {{res.key}}
                    </td>
                    <td>{{res.type}}</td>
                    <td>{{res.require}}</td>
                    <td>
                        {{res.revalue}}
                    </td>
                </tr>
                </tbody>
            </table>
            <p>
                JSON返回示例:
            </p>
            <p style="height: 300px;">
{{vm.api.demo}}
        </p>
            <p>
                接口说明:
            </p>
            <p style="height: 300px;word-break: break-all;border: 1px solid #ccc;border-radius:3px;padding: 5px;">{{vm.api.description}}</p>
        </div>
    </div>
</div>
</div>