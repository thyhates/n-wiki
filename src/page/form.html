<div ng-controller="editApiCtrl as vm">
    <uib-tabset active="activeJustified" justified="true">
        <uib-tab index="0" heading="编辑">
            <div style="padding: 30px;" on-form-ready class="editContainer">
                <form sf-schema="vm.editSchema" sf-form="vm.editForm" sf-model="vm.editModel" ng-submit="vm.submitAdd()">

                </form>
                <input type="button" class="btn btn-primary" value="输入JSON" ng-click="vm.showJSONinput()">
            </div>
        </uib-tab>
        <uib-tab index="1" heading="预览">
            <div style="padding: 30px;" on-form-ready class="editContainer">
                <form name="addForm" ng-submit="vm.submitAdd(addForm)" class="form-horizontal">
                    <div class="apiBody" ng-if="vm.documentInfo.type==0">
                        <p>
                            请求名称：{{vm.apis.name}}
                        </p>
                        <p>
                            请求路径: {{vm.apis.api}}
                        </p>
                        <p>
                            请求模式: {{vm.apis.method}}
                        </p>
                        <p>请求参数(header):
                        </p>
                        <table class="table table-bordered">
                            <thead>
                            <th style="width:20%;word-wrap: break-word;">参数名称</th>
                            <th style="width:20%;word-wrap: break-word;">类型</th>
                            <th style="width:20%;word-wrap: break-word;">必填</th>
                            <th style="width:40%;word-wrap: break-word;">说明</th>
                            </thead>
                            <tbody>
                            <tr ng-repeat="param in vm.apis.params" ng-if="vm.apis.params">
                                <td>{{param.apiName}}
                                </td>
                                <td>{{param.type}}
                                </td>
                                <td>{{param.require}}</td>
                                <td>{{param.apiValue}}</td>
                            </tr>
                            </tbody>
                        </table>

                        <p>请求参数(urlParam):
                        </p>
                        <table class="table table-bordered">
                            <thead>
                            <th style="width:20%;word-wrap: break-word;">参数名称</th>
                            <th style="width:20%;word-wrap: break-word;">类型</th>
                            <th style="width:20%;word-wrap: break-word;">必填</th>
                            <th style="width:40%;word-wrap: break-word;">说明</th>
                            </thead>
                            <tbody>
                            <tr ng-repeat="res in vm.apis.res" ng-if="vm.apis.res">
                                <td>
                                    {{res.key}}
                                </td>
                                <td>
                                    {{res.type}}
                                </td>
                                <td>{{res.require}}</td>
                                <td>
                                    {{res.revalue}}
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <p>
                            JSON返回示例:
                        </p>
                        <pre>{{vm.apis.demo}}</pre>
                        <br/>
                        <p>
                            接口说明:
                        </p>
                        <pre>{{vm.apis.description}}</pre>
                    </div>
                    <div class="apiBody" ng-if="vm.documentInfo.type==1">
                        <h3>{{vm.apis.name}}</h3>
                        <p>
                            接口定义:&nbsp;&nbsp;{{vm.apis.api}}
                        </p>
                        <p>功能描述:&nbsp;&nbsp;{{vm.apis.description}}</p>
                        <p>参数:</p>
                        <table class="table table-bordered">
                            <thead>
                            <th style="width:20%;word-wrap: break-word;">参数名称</th>
                            <th style="width:20%;word-wrap: break-word;">类型</th>
                            <th style="width:20%">必填</th>
                            <th style="width:30%;word-wrap: break-word;">描述</th>
                            <th style="width:10%;word-wrap: break-word;">默认值</th>
                            </thead>
                            <tbody>
                            <tr ng-repeat="param in vm.apis.params" ng-if="vm.apis.params">
                                <td>{{param.apiName}}</td>
                                <td>{{param.type}}</td>
                                <td>{{param.require}}</td>
                                <td>{{param.apiValue}}</td>
                                <td>{{param.defaultValue}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <p>返回值:</p>
                        <table class="table table-bordered">
                            <thead>
                            <th style="width:20%;word-wrap: break-word;">名称</th>
                            <th style="width:40%;word-wrap: break-word;">类型</th>
                            <th style="word-wrap: break-word;">描述</th>
                            </thead>
                            <tbody>
                            <tr ng-repeat="res in vm.apis.res" ng-if="vm.apis.res">
                                <td>
                                    {{res.key}}
                                </td>
                                <td>{{res.type}}</td>
                                <td>
                                    {{res.revalue}}
                                </td>
                            </tr>

                            </tbody>
                        </table>
                        <p>回调参数:</p>
                        <table class="table table-bordered">
                            <thead>
                            <th style="width:20%;word-wrap: break-word;">参数名称</th>
                            <th style="width:20%;word-wrap: break-word;">类型</th>
                            <th style="width:20%">必填</th>
                            <th style="width:30%;word-wrap: break-word;">描述</th>
                            <th style="width:10%;word-wrap: break-word;">默认值</th>
                            </thead>
                            <tbody>
                            <tr ng-repeat="param in vm.apis.callbackParams" ng-if="vm.apis.callbackParams">
                                <td>
                                    {{param.apiName}}
                                </td>
                                <td>{{param.type}}</td>
                                <td>{{param.require}}</td>
                                <td>
                                    {{param.apiValue}}
                                </td>
                                <td>{{param.defaultValue}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <p>
                            示例:
                        </p>
                        <pre>
{{vm.apis.demo}}
        </pre>
                        <p>
                            补充说明:
                        </p>
                        <pre>{{vm.apis.extractComment}}</pre>
                    </div>
                </form>
            </div>
        </uib-tab>
    </uib-tabset>
</div>